<!DOCTYPE html>
<html lang="en">
    <head>
        
        <meta charset="UTF-8">
        <meta name="viewport"    content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <title>Lavanya- ArcGIS SDK JS</title>
        <link rel="stylesheet" href="slick.css"/>
	    <link rel="stylesheet" href="slick-theme.css"/>
        <link rel="shortcut icon" href="Images/favicon-32x32.png">
        <!-- Bootstrap -->
        <link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
        <!-- Icon font -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
        <!-- Fonts -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alice|Open+Sans:400,300,700">
        <!-- Custom styles -->
        <link rel="stylesheet" href="Home.css">
        
        <link rel="stylesheet" href="https://js.arcgis.com/4.28/esri/css/main.css">
        <script src="https://js.arcgis.com/4.28/"></script>
        
        <style>
            
            #viewDiv {
                width: 100%;
                height: 500px;
                margin-left: auto;
                margin-right: auto;             
            }
           
        </style>

        <script>
            require([
                "esri/Map",
                "esri/views/MapView",
                "esri/Graphic",
                "esri/geometry/Point",
                "esri/symbols/PictureMarkerSymbol",
                "esri/widgets/Locate",

                ], function(Map, MapView, Graphic, Point, PictureMarkerSymbol,Locate) {
                    
                    // Code to create the map with streets-vector basemap
                    var initMap = new Map({
                        basemap: "osm"
                    });
                    
                    // create map view and set extent
                    var view = new MapView({
                        container: "viewDiv",	// Reference to the DOM node that will contain the view
                        map: initMap,	// References the map object created in the previous step
                        
                        extent: { // autocasts as new Extent()
                            xmin: -13805173,
                            ymin: 6305016,
                            xmax: -13790259,
                            ymax: 6298800,
                            spatialReference: 102100
                        },
                                                
                    });

                    //add locate widget to zoom to current location
                    const locate = new Locate({
                        view: view,
                        useHeadingEnabled: false,
                        goToOverride: function(view,options){
                            options.target.scale =1500;
                            return view.goTo(options.target);
                        }
                    });
                    view.ui.add(locate,"top-left");

                    // Create a point marker symbol
                    var pictureSymbol = new PictureMarkerSymbol({
                        url: "Images/Goschool.png",
                        width: "30px",
                        height: "30px"
                    });

                    // create template for pop-ups
                    var infoTemplate = {
                        title: "{Name}",
                        content: [{ 
                            type: "fields", 
                            fieldInfos: [{fieldName: "Name"}, {fieldName: "Phone"}, {fieldName: "URL"}]
                        }]
                    };

                   //function to create picture markers
                    function pictureMarker(simpleX,simpleY,simpleName,simplePhone,simpleUrl){
                        var point=new Point({
                        x:simpleX,
                        y:simpleY,
                        spatialReference: {wkid:102100} 
                        });
                        
                        var pointGraphic= new Graphic({
                        symbol: pictureSymbol,
                        geometry:point,
                        attributes:{Name:simpleName,Phone:simplePhone,URL:simpleUrl},
                        popupTemplate:infoTemplate,
                        });
                        view.graphics.add(pointGraphic);
                    };
                    
                    // create picture markers using function
                    pictureMarker(-13798672.664,6303053.3287,"FAIRVIEW ELEMENTARY","250-753-3418","<a target='_blank' href=https://fv.schools.sd68.bc.ca/> https://fv.schools.sd68.bc.ca/ </a>");
                    
                    pictureMarker(-13798338.8164,6300942.0224,"GEORGIA AVENUE ELEMENTARY","250-753-1044","<a target='_blank' href=https://ge.schools.sd68.bc.ca/> https://ge.schools.sd68.bc.ca/ </a>");
                    
                    pictureMarker(-13797296.7549,6303493.2581,"PAULINE HAARER ELEMENTARY","250-754-2722","<a target='_blank' href=https://ph.schools.sd68.bc.ca/> https://ph.schools.sd68.bc.ca/ </a>");
                    
                    pictureMarker(-13799278.2419,6302219.8408,"CONTINUING ED SD 68","250-753-3418","<a target='_blank' href=https://www.sd68.bc.ca/> https://www.sd68.bc.ca/ </a>");
                    
                    pictureMarker(-13800022.9693,6301259.7985,"MALASPINA INTERNATIONAL HIGH SCHOOL","250-740-6317","<a target='_blank' href=https://ths.viu.ca/> https://ths.viu.ca/ </a>");
                    
                    pictureMarker(-13799278.242,6302510.939,"NANAIMO CAREER & TECHNICAL CTR","250-740-2032","<a target='_blank' href=https://ctc-careerpaths.ca/> https://ctc-careerpaths.ca/ </a>");
                    
                    pictureMarker(-13799278.242,6302510.939,"NANAIMO DISTRICT SECONDARY","250-740-2000","<a target='_blank' href=https://nd.schools.sd68.bc.ca/> https://nd.schools.sd68.bc.ca/ </a>");

            });
            
    </script>

    </head>
    <body>
        <link href="https://fonts.googleapis.com/css?family=DM+Serif+Text&display=swap" rel="stylesheet">

        <header id="header">
            <div id="head" class="parallax" parallax-speed="2">
                <h1 id="logo" class="text-center">
                    <a href="https://lavs5.github.io/" target="_self"><img class="img-circle" src="Images/Photo_lavs.jpg"></a>
                    <span class="title"><strong>Lavanya Gopal</strong></span>
                    <span class="tagline">
                        <strong>GIS | Data Science | Remote Sensing | Engineering</strong>
                    
                        <span class="widget-body">
                            <a href="mailto:lavgopal9@gmail.com" style="color: #a7fdc8">
                                <i class="fa fa-envelope-o fa-fw"></i></a>
                                <a href="https://www.linkedin.com/in/lavanyagopal/" target="_blank" style="color: #a7fdc8">
                                <i class="fa fa-linkedin fa-2"></i></a>       
                        </span>	
                    </span>
                </h1>
            </div>
        
            <nav class="navbar navbar-default navbar-sticky">
                <div class="container-fluid">
        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="true" > 
                            <span class="sr-only">Toggle navigation</span> 
                            <span class="icon-bar"></span> 
                            <span class="icon-bar"></span> 
                            <span class="icon-bar"></span> 
                        </button>
                    </div>
        
                    <div class="navbar-collapse collapse">
        
                        <ul class="nav navbar-nav">
                            <li><a href="https://lavs5.github.io/" class="highlight">
                                <strong>Home</strong></a></li>
                            <li><a href="Resume.html" class="highlight">Resume</a></li>
                        </ul>
        
                    </div>
                </div>
            </nav>
        </header>
        <main id="main">
            <div class="container">
                <div class="row topspace">
                        <header class="page-header">
                            <h2 class="custom-header">Nanaimo Schools using ArcGIS Maps SDK JavaScript</h2><br>
                        </header>
                    <!-- Article main content -->
                    <article class="col-sm-8">
                        <div id="viewDiv"></div>
                    </article>
                    <!-- /Article -->
                    <aside class="col-sm-4 sidebar sidebar-right">
                        <ul class="list-group">
                            <li>This map uses ArcGIS Maps SDK for Javascript, previously known as ArcGIS API for JavaScript to build a simple webmap. Extensive documentation and tutorials available on <a href="https://developers.arcgis.com/javascript/latest/tutorials/display-a-map/" target="_blank">Esri Developer</a> website were used to code this webmap.</li>
                            <li>The ArcGIS Maps SDK for JavaScript is available as Asynchronous Module Definition (AMD) modules and the <b>require</b> function uses references to determine which modules will be loaded and passed as parameters to the callback function where they can be used in the application. This map uses Map, MapView, Symbol, PictureMarkerSymbol, infoTemplate, Graphic, Point, and Locate modules/classes.</li>
                            <li>This web mapping application displays the <b>location and popup</b> information for some of the schools in Nanaimo. A short snippet of code defines a function to create multiple picture marker symbols on the map. A <b>locate widget</b> on the top left of the map uses the Locate class to zoom to current location.</li>
                         </ul>
                    </aside>
                </div>
            </div>
           
          <!-- /container -->
        </main>
        <!-- JavaScript libs are placed at the end of the document so the pages load faster -->
        <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
        

    </body>

</html>